---
title: "SDK Quickstart (iOS)"
description: "Integrate Helium into your iOS app"
icon: "/images/sdk/logos/apple-173-svgrepo-com.svg"
---

<Info>
  **Using an older SDK version?**
  
  If you're upgrading from SDK v2.x, check our [Migration Guide](/sdk-reference/migration-2-to-3) for breaking changes and upgrade instructions.
</Info>

## **Background**

Get set up with the Helium SDK for iOS. Reach out over your Helium slack channel or email [founders@tryhelium.com](mailto:founders@tryhelium.com) for any questions.

## **Installation**

We recommend using Swift Package Manager (SPM), but if your project primarily uses Cocoapods it might make sense to install the Helium Cocoapod instead.

<Tabs>
  <Tab title="Swift Package Manager (SPM)">
    1. In Xcode, navigate to your project's **Package Dependencies:**

       ![Spm Add Pn](/images/spm-add.png)
    2. Click the **\+** button and search for the Helium package URL:

       ```
       https://github.com/cloudcaptainai/helium-swift.git
       ```
    3. Click **Add Package**.
    4. In the dialog that appears, make sure to add the **Helium** product to your app's main target:

       ![Spm Target Pn](/images/spm_target.png)
    5. _(Optional)_ If you are using RevenueCat to manage purchases, we recommended you also add **HeliumRevenueCat** to your target so that you can use our RevenueCatDelegate referenced in the HeliumPaywallDelegate section of this guide. Otherwise leave as **None** for the HeliumRevenueCat row.

    <Warning>
      The **HeliumRevenueCat** target includes [purchases-ios-spm](https://github.com/RevenueCat/purchases-ios-spm) as a dependency, _not_ [purchases-ios](https://github.com/RevenueCat/purchases-ios) and you may encounter build issues if are using **purchases-ios** with SPM.
    </Warning>
    6. Select **Add Package** in the dialog and Helium should now be ready for import.
    7. Version: We recommend using an upToNextMajor rule to make sure you get non-breaking bug fixes. The latest stable version of helium-swift is **3.0.0** :

      ![Xcode 3 Dependency](/images/sdk/xcode_3_dependency.png)

  </Tab>
  <Tab title="Cocoapod">
    ### Option 1: Core functionality only

    Add this to your Podfile:

    ```ruby
    pod 'Helium', '~> 3.0'
    ```

    Then run:

    ```bash
    pod install
    ```

    ### Option 2: Core \+ RevenueCat

    <Note>
      Recommended if you are using RevenueCat to manage purchases.
    </Note>
    Add this to your Podfile:

    ```ruby
    pod 'Helium/RevenueCat', '~> 3.0'
    ```

    Then run:

    ```bash
    pod install
    ```
  </Tab>
</Tabs>

## Initialize Helium

Initialize the Helium SDK as early as possible in your app's lifecycle. Choose the appropriate location based on your app's architecture:

<Tabs>
  <Tab title="SwiftUI">
    ```swift
    @main
    struct MyApp: App {
        init() {
            // Call Helium.shared.initialize here (see example below)
        }

        var body: some Scene {
            WindowGroup {
                ContentView()
            }
        }
    }
    ```
  </Tab>
  <Tab title="SceneDelegate">
    ```swift
    class SceneDelegate: UIResponder, UIWindowSceneDelegate {

        var window: UIWindow?

        func scene(_ scene: UIScene, willConnectTo session: UISceneSession, options connectionOptions: UIScene.ConnectionOptions) {
            // Call Helium.shared.initialize here (see example below)
        }
    }
    ```
  </Tab>
  <Tab title="AppDelegate">
    ```swift
    @UIApplicationMain
    class AppDelegate: UIResponder, UIApplicationDelegate {

        var window: UIWindow?

        func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {
            // Call Helium.shared.initialize here (see example below)
            return true
        }
    }
    ```
  </Tab>
</Tabs>

Add necessary imports:

```swift
import Helium
import SwiftUI
```

And initialize Helium in the location referenced above:

```swift
// Create fallback configuration (required)
let fallbackConfig = HeliumFallbackConfig.withFallbackView(
    Text("Fallback shown")
)

// Or use a fallback bundle (recommended)
let fallbackBundleURL = Bundle.main.url(forResource: "fallback-bundle", withExtension: "json")
let fallbackConfig = HeliumFallbackConfig.withFallbackBundle(fallbackBundleURL)

Helium.shared.initialize(
    apiKey: "<your-helium-api-key>",
    heliumPaywallDelegate: YourHeliumPaywallDelegate(), // see next section
    fallbackConfig: fallbackConfig,
    revenueCatAppUserId: Purchases.shared.appUserID // RevenueCat ONLY
)
```


<ResponseField name="Helium.shared.initialize" type="method">
  <Expandable title="properties">
    <ResponseField name="apiKey" type="string" required>
      You can create or retrieve your api key from [Account Settings](https://app.tryhelium.com/profile).
    </ResponseField>
    <ResponseField name="heliumPaywallDelegate" type="HeliumPaywallDelegate" required>
      Delegate to handle paywall events and callbacks (see next section)
    </ResponseField>
    <ResponseField name="fallbackConfig" type="HeliumFallbackConfig" required>
      Fallback configuration with either a view or bundle URL. Required parameter.
    </ResponseField>
    <ResponseField name="customUserId" type="String?">
      _(Optional)_ If set, a custom user id to use instead of Helium's. We'll use this id when forwarding to third party analytics services, so this can be used for attribution (e.g. an amplitude user id, or a custom user id from your own analytics service)
    </ResponseField>
    <ResponseField name="customUserTraits" type="HeliumUserTraits?">
      _(Optional)_ Pass in custom user traits to be used for targeting, personalization, and dynamic content. It can be created with any dictionary, as long as the key is a string and the value is a `Codable` type.

      ```swift
      let customUserTraits = HeliumUserTraits(traits: [
          "testTrait": 1,
          "account_age_in_days": "20",
      ])
      ```
    </ResponseField>
    <ResponseField name="appAttributionToken" type="UUID?">
      _(Optional)_ Set this if you use a custom appAccountToken with your StoreKit purchases.
    </ResponseField>
    <ResponseField name="revenueCatAppUserId" type="String?">
      _(Optional)_ RevenueCat ONLY. Supply RevenueCat appUserID here (and initialize RevenueCat before Helium initialize).
    </ResponseField>
  </Expandable>
</ResponseField>

## Add some paywall event handlers

Helium emits various events related to paywall status, and paywall actions during the course of an app's session. You can handle these events using one of two methods:

<Tabs>
  <Tab title="PaywallEventHandlers (trigger specific callbacks)">
    Pass event handlers directly to `presentUpsell`, which in 3.0.0 now accepts an object of type `PaywallEventHandlers()`. You can chain a subset of handlers to this with builder syntax:

    ```swift
    Helium.shared.presentUpsell(
        trigger: "premium_features",
        eventHandlers: PaywallEventHandlers()
            .onOpen { event in
                print("Paywall opened: \(event.paywallName)")
            }
            .onClose { event in
                print("Paywall closed: \(event.paywallName)")
            }
            .onPurchaseSucceeded { event in
                print("Purchase successful: \(event.productId)")
            }
    )
    ```

    Only the `onOpen`, `onClose`, `onDismiss`, and `onPurchaseSucceeded` can be specified this way.

    <Note>
      **Event Timing:**
      - `onDismiss` is triggered only when a user manually dismisses a paywall (from an X button, "no thanks", etc.)
      - `onClose` is triggered both when the paywall got manually dismissed OR when a successful purchase triggers closing the paywall
      - `onPurchaseSucceeded` is triggered when a purchase completes successfully
      
      **Usage Guidelines:**
      - Use `onDismiss` for post-paywall navigation when the paywall is dismissed but a user's entitlement hasn't changed
      - Use `onPurchaseSucceeded` for your post purchase flow (e.g., a premium onboarding navigation)
      - Use `onClose` when you need to handle logic when the paywall closed, regardless of reason
    </Note>
  </Tab>
  <Tab title="HeliumPaywallDelegate (global handlers)">
    Use the `HeliumPaywallDelegate`'s `onPaywallEvent` method. This will apply to _all_ triggers:

    ```swift
    // Your delegate, that extends either StoreKitDelegate (if using SK 2), RevenueCatDelegate (if using RevenueCat), or HeliumPaywallDelegate (if you need custom purchase logic/need to override HeliumPaywallDelegate)
    class MyDelegate: StoreKitDelegate {
        override func onPaywallEvent(_ event: PaywallEvent) {
            switch event {
            case let openEvent as PaywallOpenEvent:
                print("Opened: \(openEvent.paywallName)")
            case let closeEvent as PaywallCloseEvent:
                print("Closed: \(closeEvent.paywallName)")
            case let purchaseEvent as PurchaseSucceededEvent:
                print("Purchased: \(purchaseEvent.productId)")
            case let dismissEvent as PaywallDismissedEvent:
                print("Dismissed: \(dismissEvent.triggerName)")
            default:
                break
            }
        }
    }
    ```

    This approach allows you to handle all paywall events in a centralized location and supports all event types available in the SDK.
  </Tab>
</Tabs>

## Presenting Paywalls

Now, anywhere in your iOS app, you can show a paywall in one of 3 ways

### Show it as a full screen modal

Call `Helium.shared.presentUpsell(trigger:)` when you want to show the paywall. For example:

```swift
Button("Try Premium") {
    Helium.shared.presentUpsell(trigger: "post_onboarding")
}
```

### Attach it to a SwiftUI view as a ViewModifier

You can use the `.triggerUpsell` view modifier from any SwiftUI view:

```swift
struct ContentView: View {
    @State var isPresented: Bool = false
    var body: some View {
        VStack {
            Button {
                isPresented = true;
            } label: {
                Text("Show paywall")
            }

        }.triggerUpsell(isPresented: $isPresented, trigger: "post_onboarding")
    }
}
```

### Explicitly embed the Helium Paywall View

You can also explicitly get the Helium paywall view via `Helium.shared.upsellViewForTrigger`. This method takes a trigger and returns the paywall as an `AnyView`.

```swift
let heliumView: AnyView = Helium.shared.upsellViewForTrigger(trigger: "post_onboarding")
```

<Note>
  You'll need to handle presentation and dismissal yourself if you use this way of displaying paywalls. You can do so through [Helium Events](/sdk/helium-events).
</Note>

## Testing

Docs here coming soon\! After integration, please message us directly to get set up with a test app \+ in-app test support.